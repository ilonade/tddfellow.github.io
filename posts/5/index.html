
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>That TDD Fellow | Tech Blog | Screencasts</title>
  <meta name="author" content="Oleksii Fedorov (waterlink)">

  
  <meta name="description" content="Why Are You Slow? Feb 5th, 2016 5:09 pm We are slow because we have the worst codebase! So why don&rsquo;t you clean it? Because we have to go fast &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.tddfellow.com/posts/5/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="That TDD Fellow | Tech Blog | Screencasts" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Exo+2:300' rel='stylesheet' type='text/css'>

<!-- MailChimp styles -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{clear:left;}
  #mc_embed_signup h2{text-align: center;}
  #mc_embed_signup #mce-EMAIL{width: 40%; margin: 0; padding: 0; margin-left: 20%; display: inline; height: 35px;}
  #mc_embed_signup #mc-embedded-subscribe{width: 20%; padding: 0; height: 35px; display: inline;}
  #mc_embed_signup .button{background-color: rgb(0, 160, 0);}
  #mc_embed_signup .button:hover{background-color: rgb(0, 128, 0);}

  @media (max-width: 900px) {
    #mc_embed_signup #mce-EMAIL{width: 55%; margin-left: 0;}
    #mc_embed_signup #mc-embedded-subscribe{width: 35%;}
  }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@waterlink000">
<meta name="twitter:creator" content="@waterlink000">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://www.tddfellow.com/images/logo.png">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73226470-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">That TDD Fellow | Tech Blog | Screencasts</a></h1>
  
    <h2>Let&#8217;s stop fearing our own creations and start being in control of them. Let&#8217;s be professional.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories/tdd-screencasts/">Screencasts</a></li>
  <li><a href="/blog/categories/build-your-own-testing-framework/">Build Testing Framework</a></li>
  <li><a href="/blog/categories/getting-stuck-while-doing-tdd/">Getting Stuck in TDD</a></li>
  <li><a href="/about-me">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/05/why-are-you-slow/">Why Are You Slow?</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-05T17:09:47+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>5:09 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>We are slow because we have the worst codebase!</p></blockquote>

<h2>So why don&rsquo;t you clean it?</h2>

<blockquote><p>Because we have to go fast!</p></blockquote>

<p>I will let you figure out logical inconsistency there.</p>

<p>Ask yourself a question: how much times in your career you were slowed down by
a horrible, dirty, untested code? It doesn&rsquo;t matter who have written it,
usually, it is already there and already a fact you have to deal with.</p>

<p>If your answer was: &ldquo;Once.. or twice..&rdquo; (and your career is sufficiently long)
- you can freely stop reading this post and simply be a happy developer.</p>

<p>I was slowed down by bad code horrible amount of times. I come to be sick of
it. I don&rsquo;t want to be slow, because I am trying to go fast. I want my tool to
be clean, I want my creations to be manageable, and I don&rsquo;t want to fear the
code, I have created, or anyone else have created. And I want to go fast while
enjoying it!</p>

<p>Trust me, I met lots of developers during my career. Not as much as heroes of
our industry have met, but <strong>enough</strong> to be able to tell you, that <strong>every
single</strong> one of them, who has any reasonable length of the career, had same
problems.</p>

<p>And that is totally not normal. Do you understand, that from the outside world,
we, as an industry, are perceived as very non-professional, because of that?
Business even came to a conclusion, that they can&rsquo;t trust us to deliver working
software - and that is how QA role was born.</p>

<p>I will ask again.</p>

<h2>So why don&rsquo;t you clean it?</h2>

<blockquote><p>My company pays me for features, not for &lt;<em>insert your statement here</em>></p></blockquote>

<p>That is very common response. And, in essence, it is the truth.</p>

<p>OK, now, let&rsquo;s think. As time passes by, after certain threshold on every
codebase, that is not clean, adding next feature costs more time, even if the
features are of roughly the same size. After 1 year of such development,
features can literally become 2-4 times more expensive. Couple of years in, and
it, practically, becomes impossible to develop anything except &ldquo;Change the
color of this button&rdquo; (or provide your own example).</p>

<h2>What does that mean?</h2>

<p>One would say: &ldquo;Features become more expensive over time&rdquo;. Business usually
sees it as: &ldquo;Arrgh, our programmers slower and slower with each month&rdquo;. So from
the business perspective, after <strong>perceived</strong> effectiveness of developers drops
by 2-4 times, why would business be willing to pay these developers the same
salary? You should be afraid of this question.</p>

<h2>Now imagine land of unicorns!</h2>

<p>Now imagine, that you started a bit slower in the beginning (like 8% slower),
but you have kept your effectiveness over time either at roughly same level, or
even have increased it over time. How hard do you think it would be to ask for
a raise, after 2 years of loyal work?</p>

<p>Not hard at all. And probably business will be doing just great (if the
business idea itself was sustainable to begin with, of course), and will be
capable of satisfying the request.</p>

<h2>Why such a thing happens?</h2>

<p>Because at the moment we are not perceived as professionals, nor as experts of
our field. We are perceived as just some coding monkeys, who you always need to
ask: &ldquo;Can this be delivered on Friday&rdquo; with intimidating tone. And we gladly
reply through our teeth: &ldquo;I will try&rdquo;, meaning &ldquo;Just go already&rdquo;; ending up on
Friday evening with: &ldquo;I tried&rdquo; - &ldquo;You have tried not enough!&rdquo;.</p>

<h2>Clean your code already!</h2>

<p>Believe me, investing 15-45 minutes every single day into increasing test code
coverage and some little refactorings will not make you any slower (you
probably already very slow, so that it will not make any perceivable
difference). Rather, over time, you (and your fellow programmers) will start to
actually being bit-by-bit faster, as long as your application (or applications)
get cleaner and cleaner.</p>

<p>It goes without saying, that you should be using proper XP (pair-programming
and TDD) techniques, while writing any new piece of code (read: new class,
module, library, package, etc.). Because it will be extremely easy to unit-test
it with near-100% test coverage. Believe me, that is easy and fun.</p>

<p>Refactoring and covering old and messy parts of an application is not fun,
though. You have to face the truth. Consider it as a chore, like the one you do
to your apartment, when you clean it on a regular basis. And as we all know,
the more you wait to clean an apartment, the harder it would be to do it. And
the function is not linear..</p>

<p>If you have a really big legacy application, you are probably in doing that
sort of thing for 2-3 years, before you can proudly call this application clean
again.</p>

<p>There is one important trick though: prioritize cleaning of parts of
application, that change often. If some part changes once half a year, you
should probably clean it once half a year too.</p>

<h2>You are hired for your expertise!</h2>

<p>Believe me, you do have all the knowledge, required to make it.</p>

<p>The only thing that stops you is your inability to say &ldquo;No&rdquo;, when &ldquo;No&rdquo; is the
correct answer from your experience and expertise point of view.</p>

<h2>Parallel example</h2>

<p>Do you know that surgeon, before any surgery, washes his hands. You not just
know, it is your expectation! In some countries if he doesn&rsquo;t, he can easily
end up in jail.</p>

<h3>Do you know, how surgeon washes his hands?</h3>

<p>He rubs each finger from 4 different sides 10 times. That is stated in Doctors&#8217;
code of ethics. And they have to follow it, since it has power of law.</p>

<p>Why 10 times? Wouldn&rsquo;t 7 be enough, or maybe 14 should be a minimum? It doesn&rsquo;t
matter. It is a discipline, that is to be followed to the letter, and there are
no exceptions.</p>

<p>Well, he probably can rub 11 times, without getting in jail..</p>

<p>Nobody will ever ask surgeon, why he does it. Everyone expects him to do it.</p>

<h2>Back to our universe</h2>

<p>You are surgeons!</p>

<p>You are surgeons, that operate on a heart of the business.</p>

<p>With your wrong move, with your mistake, the whole business can go out of
business overnight.</p>

<p>With your wrong move, with your mistake, thousands of people can die (if you
are in certain domains).</p>

<p>So why increasing a chance of your own mistakes (and everybody else on a team)
by not cleaning the code?</p>

<p>Even if you are not in such critical domain, you are part of industry, and you
should be a great professional, just to be an example for others, who might end
up working in such crucial business domain in the future.</p>

<p>And I know, you can pull it off. And you do know it yourself.</p>

<p>So now go, and be professional, be professional for everyone around you.</p>

<h2>Thanks!</h2>

<p>This article might be a bit too rough - I believe that is the truth we face
now, as an industry. And let us be the ones fixing it!</p>

<p>I recommend reading this: <a href="http://acm.org/about/se-code">Software Engineering Code of Ethics</a>
by ACM organization (originally, created in 1999, why are we all still not
using it?!).</p>
</div>
  
  


<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="//tddfellow.us14.list-manage.com/subscribe/post?u=535a10a8c0274c9a7ebac4f34&amp;id=ecfc38567e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>Stay Tuned!</h2>
<div class="mc-field-group">
  <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_535a10a8c0274c9a7ebac4f34_ecfc38567e" tabindex="-1" value=""></div>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Enter your email">
  <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/04/tdd-number-3-kind-sort/">TDD #3: Kind Sort</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-04T01:16:18+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:16 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe width="560" height="315" src="https://www.youtube.com/embed/TR2hKaR4zg8" frameborder="0" allowfullscreen></iframe>


<p>Recommended to watch in a full-screen and on 720p or higher quality.</p>

<h2>Script</h2>

<p>Hello, hello! I am Oleksii Fedorov, and this is the third
episode of TDD Screencast.</p>

<p>In last episode we have implemented a sorting algorithm
using TDD, without thinking about algorithm beforehand. As a
result, bubble sort have emerged.</p>

<p>We have noticed, that there is a small weird thing about
this implementation: it has unspecified behavior - mutation
of the original array.</p>

<p>So we asked, which algorithm would emerge, if we were to ban
such side-effects from our algorithm. Let&rsquo;s find out!</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./watch.sh
</span><span class='line'>vim           # implement sorting algorithm</span></code></pre></td></tr></table></div></figure>


<p>I think we are done here. If you look closely, it is a
quicksort. It is not the most memory-efficient
implementation, but that is something that is simple to
optimize (instead of passing recursively arrays, pass
original array and indexes). That optimization will involve
actual mutation of the array in place, so if we want to stay
true to our specification /show test for no-side-effects/.
We will have to copy the array once, using some sort of
wrapper function.</p>

<p>Applying this optimization I leave as an exercise to you my
users.</p>

<p>In the next episode we will look into path-finding problem,
and we will see, how these techniques apply there. See you
next time! Have a nice day.</p>
</div>
  
  


<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="//tddfellow.us14.list-manage.com/subscribe/post?u=535a10a8c0274c9a7ebac4f34&amp;id=ecfc38567e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>Stay Tuned!</h2>
<div class="mc-field-group">
  <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_535a10a8c0274c9a7ebac4f34_ecfc38567e" tabindex="-1" value=""></div>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Enter your email">
  <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/02/test-driven-development-screencast-number-2/">Test-Driven-Development Screencast #2</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-02T08:28:14+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2016</span></span> <span class='time'>8:28 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe width="560" height="315" src="https://www.youtube.com/embed/6XMoZ7snuKo?list=PLbNxoJawcer22UE8lT93-fX8ZYFNtoXFu" frameborder="0" allowfullscreen></iframe>


<p>Recommended to watch in a full-screen and on 720p or higher quality.</p>

<p>List of all TDD Screencasts can be <a href="/blog/categories/tdd-screencasts/">found here</a>.</p>

<h2>Script</h2>

<p>Hello, hello! I am Oleksii Fedorov, and this is the second episode of
Test-Driven-Development Screencast.</p>

<p>Now that I think about it, first episode was more of an audio podcast (with two
and half visual slides), rather than a screencast. Don&rsquo;t worry - this episode
will be full of code and actual action time on the screen.</p>

<p>Today we are going to implement a sorting algorithm. We will not come up with
algorithm beforehand and we will simply let it emerge by itself, while we are
doing TDD.</p>

<p>Lets jump in!</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./watch.sh  # So I have here small script, that will watch changes in my code
</span><span class='line'>            # and will run all my tests. Additionally, it will show me the
</span><span class='line'>            # result in the notification bar (you will see, shortly).
</span><span class='line'>
</span><span class='line'>vim         # 1) Create test file
</span><span class='line'>            # 2) Follow TDD rules to the letter</span></code></pre></td></tr></table></div></figure>


<p>I think we are done here. And notice, that this is a bubble sort algorithm. Now
lets ask a question, why the worst possible algorithm have emerged, while we
were using TDD. That is an interesting question.</p>

<p>But first, lets ask ourselves a question: Are we kind to the user of our
function? The answer is - NO. We are mutating the argument, that user passed to
us. And this mutation might be unexpected. At least our test suite doesn&rsquo;t even
mention such behavior.</p>

<p>The root of the problem is this little swap operation that we have here:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># show swap operation on the screen
</span><span class='line'>a[0], a[1] = {a[1], a[0]}</span></code></pre></td></tr></table></div></figure>


<p>I wonder, what will happen if we were to ban swap operation (and any kind of
mutation of the argument of the function), and implement sorting algorithm
again?</p>

<p>Find out next time, on the next episode of Test-Driven-Development! Have a good
day.</p>
</div>
  
  


<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="//tddfellow.us14.list-manage.com/subscribe/post?u=535a10a8c0274c9a7ebac4f34&amp;id=ecfc38567e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>Stay Tuned!</h2>
<div class="mc-field-group">
  <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_535a10a8c0274c9a7ebac4f34_ecfc38567e" tabindex="-1" value=""></div>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Enter your email">
  <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/02/test-driven-development-screencast-number-1/">Test-Driven-Development Screencast #1</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-02T07:59:25+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2016</span></span> <span class='time'>7:59 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe width="560" height="315" src="https://www.youtube.com/embed/QnEvjrszst4?list=PLbNxoJawcer22UE8lT93-fX8ZYFNtoXFu" frameborder="0" allowfullscreen></iframe>


<p>Recommended to watch in a full-screen and on 720p or higher quality.</p>

<p>List of all TDD Screencasts can be <a href="/blog/categories/tdd-screencasts/">found here</a>.</p>

<h2>Script</h2>

<p>Hello! I am Oleksii Fedorov, and this is the first episode of
Test-Driven-Development Screencast.</p>

<p>Today, I am going to briefly address following questions about
Test-Driven-Development:
- What TDD is?
- What are main benefits of doing TDD?</p>

<p>At the end I am going to demonstrate a small example on how to implement simple
sorting algorithm using TDD.</p>

<p>Let me open my slides. Don&rsquo;t worry: there are only three small slides.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vim ./slides/*</span></code></pre></td></tr></table></div></figure>


<p>TDD is Software Development discipline. Therefore, basic rules, defined by TDD,
are arbitrary, weird and are to be followed to the letter, if you want it to be
useful. There is a reason for that – but we will talk shortly about that. Let
me read these basic rules for you:</p>

<ol>
<li><p>You are not allowed to write a line of production code, unless test fails.</p>

<p>Which means, that I will have to write the test even before I have something
to test. It may sound stupid. Maybe, it is stupid. Maybe, it is not.</p>

<p>But the next rule is even more weird than the first one:</p></li>
<li><p>You are not allowed to write more of a test, that is sufficient to fail.</p>

<p>It is important to clarify, what ˝fail˝ means in this context. It means test
expectation failure, and compilation/parsing/interpretation failure
(depending if your programming language is compiled or interpreted).</p>

<p>Which means, that you will have to interrupt yourself, while writing a test,
because you have mentioned the class or package, that does not exist yet. Or
you have mentioned the method or function, that does not exist yet.</p>

<p>Now that may sound really stupid to you. Bear with me, and lets see how
weird the last rule is:</p></li>
<li><p>You are not allowed to write more production code, that is sufficient to
make the failing test pass.</p>

<p>Which means, that once you have defined a class, that was mentioned - you
have just fixed a failing test, and you have to go back and write more of
the test, or add new test.</p>

<p>Which means, that once you have defined a method, that was mentioned - you
have just fixed a failing test, and you have to got back and write more of
the test again.</p>

<p>Which means, that once you changed your production code only slightly in
direction of the correct implementation, you have to go back and write more
tests.</p>

<p>This is interesting. Now you got yourself in a very tight lock. In a very
tight feedback loop. Write a line of test, write a line of code, write a
line of test, write a line of code, and so on. The length of this loop is
probably 5, 10, 30 seconds. If you have a test suite that needs half an hour
to run, you will not do TDD.</p></li>
</ol>


<p>What happens if you do not follow this discipline to the letter? If you slip
there and there?: write a bit more production code, than you had to?, write a
bit more of a test, than you had to?, or even wrote a test after writing the
whole class under test?</p>

<p>Well, you have just lost the main benefit of TDD: you can no longer trust the
test suite. For sure, there will be some untested code if you do it this way.</p>

<p>Why do we need 100% test coverage, you ask? 70% sounds like an awesome
achievement! Or is it?..</p>

<p>What can you tell from the fact, that only 70% of your code is covered by test
suite? Only that 30% is not covered, and therefore, there is no quick and easy
way to verify that it works.</p>

<p>Lets imagine the following scenario:</p>

<ul>
<li>You open a file on your screen.</li>
<li>You spot some nasty duplication, and you know you want to fix it.</li>
<li>You even see an obvious way to fix it.</li>
<li>You touch your keyboard.</li>
<li>And now, the fear overwhelms you: this class is not tested.</li>
<li>And your reaction? - I won&rsquo;t touch it!</li>
</ul>


<p>That is where code starts to rot, while nobody cleans it up, because test suite
can not be trusted, and the whole codebase slowly down-slides to a big pile of
mess.</p>

<p>Now, lets imagine, that you have 100% code coverage (Well, maybe 98%, because
100% is the goal, that is not achievable). And the same scenario:</p>

<ul>
<li>You open a file on your screen.</li>
<li>You spot some nasty duplication.</li>
<li>You fix the duplication.</li>
<li>You run tests - and they are green.</li>
<li>You check-in cleaner code in your code control system.</li>
</ul>


<p>Or, lets say, that the problem is not trivial:
- You spot the long method.
- You split it in 3 methods - tests are still green.
- You proceed and extract these methods to the new class.
- And tests fail.
- Undo-Undo-Undo. And you are back to the green state.
- And now you think for a moment, what happened there.
- And you already have this ˝Gotcha!˝.
- And you successfully extract a class again - and the test suite is green.
- You check-in cleaner code in your code control system.</p>

<p>Undo button becomes your best friend. Once you stop knowing what is going on,
or what you are doing, or you simply confused, you can always go back to the
green state; that just happens to be 25 seconds ago (or 2-3 undo) away, because
of the tight feedback loop you got yourself into.</p>

<p>Now, there is a hidden rule of TDD. That feels more, like an implementation
detail of TDD:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:next</span></code></pre></td></tr></table></div></figure>


<p>As tests become more specific, production code should become more generic.</p>

<p>And it is very true, otherwise, you would end up adding a bunch of <code>if</code>
statements every time you add a failing test.</p>

<p>What that means, I will point out during the example.</p>

<p>And lets sum up now:</p>

<p>100% Code Coverage =>
  Lack of Fear =>
  Consistent Random Kindness to the Code =>
  Clean Code.</p>

<hr />

<p>60% Code Coverage =>
  Fear to Break It =>
  ˝I won&rsquo;t touch it!˝ =>
  Mess.</p>

<p>Now we can finally move on to the example. Next time, on the next episode of
Test-Driven-Development Screencast! Have a good day.</p>
</div>
  
  


<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="//tddfellow.us14.list-manage.com/subscribe/post?u=535a10a8c0274c9a7ebac4f34&amp;id=ecfc38567e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>Stay Tuned!</h2>
<div class="mc-field-group">
  <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_535a10a8c0274c9a7ebac4f34_ecfc38567e" tabindex="-1" value=""></div>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Enter your email">
  <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/6">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/4">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/08/31/getting-stuck-while-doing-tdd-part-3-triangulation-to-the-rescue/">Getting Stuck While Doing TDD. Part 3: Triangulation to the Rescue!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/31/getting-stuck-while-doing-tdd-part-2-buggy-code-and-forcing-our-way-through/">Getting Stuck While Doing TDD. Part 2: Buggy Code and Forcing Our Way Through</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/30/getting-stuck-while-doing-tdd-part-1-example/">Getting Stuck While Doing TDD. Part 1: Example</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/20/eliminating-if-statements-legacy-endpoint-primer/">Eliminating &#8216;if&#8217; Statements: Legacy Endpoint Primer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/14/build-your-own-testing-framework-part-3/">Build Your Own Testing Framework. Part 3</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/10/tdd-screencast-number-6-continuous-integration-training/">TDD #6: Continuous Integration Training</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/31/parallel-change-refactoring/">Parallel Change Refactoring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/23/build-your-own-testing-framework-part-2/">Build Your Own Testing Framework. Part 2</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/waterlink">@waterlink</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'waterlink',
            count: 7,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
  </a>
  <br />
  Except where otherwise noted, content on this site is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
  <br/>

  Except where otherwise noted, code examples on this site are licensed under a
  <a rel="license" href="https://github.com/waterlink/waterlink.github.io/tree/source/LICENSE">MIT License</a>.
  <br/>

  Copyright &copy; 2016 - Oleksii Fedorov (waterlink) -
  <br/>

  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
