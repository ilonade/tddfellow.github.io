
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>That TDD Fellow | Tech Blog | Screencasts</title>
  <meta name="author" content="Oleksii Fedorov (waterlink)">

  
  <meta name="description" content="Let&rsquo;s imagine a beginner programmer, who have learned a programming language basics, can write programs and can read someone else&rsquo;s &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.tddfellow.com/posts/3/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="That TDD Fellow | Tech Blog | Screencasts" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Exo+2:300' rel='stylesheet' type='text/css'>

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@waterlink000">
<meta name="twitter:creator" content="@waterlink000">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://www.tddfellow.com/images/logo.png">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73226470-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">That TDD Fellow | Tech Blog | Screencasts</a></h1>
  
    <h2>Let&#8217;s stop fearing our own creations and start being in control of them. Let&#8217;s be professional.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-me">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/05/27/iterative-divide-and-conquer-or-how-to-solve-problems/">Iterative Divide &amp; Conquer or How to Solve Problems</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-05-27T07:48:18+02:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>7:48 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>Let&rsquo;s imagine a beginner programmer, who have learned a programming language basics, can write programs and can read someone else&rsquo;s programs. Now, for any somewhat non-trivial problem, they have trouble coming up with a solution. And if they read one of the possible solutions, they will understand it and conclude: &ldquo;I understand how this program works, but I don&rsquo;t know how to get there.&rdquo;. If that sounds like you, my dear reader, or someone you would like to coach or teach, then come and learn Iterative Divide &amp; Conquer problem-solving technique.</em></p>

<h2>English Numbers Kata</h2>

<p>Given an integer number in the range of <code>-999 999 999</code> to <code>999 999 999</code>, write a program, that will output that number in English words.</p>

<p>Example:</p>

<p>Given number <code>37545</code>, the program outputs <code>thirty-seven thousands five hundred forty-five</code>.</p>

<h3>I can solve that!</h3>

<p>If you are confident, that you are able to solve that problem, my congratulations, you have problem-solving skill at a necessary level!</p>

<p>If you still feel, that you can solve this Kata easily, although there are more complex problems that give you troubles, then, probably, your problem-solving strategy is not scalable. The technique described in this article is scalable.</p>

<h3>Let&rsquo;s dive in</h3>

<p><em>NOTE: this article uses pseudo-code, that doesn&rsquo;t belong to any programming language, so it makes sense for you, my reader, to implement this step-by-step in the programming language you know.</em></p>

<p>OK. Let&rsquo;s imagine, that you don&rsquo;t know how to solve the whole English Numbers Kata and you don&rsquo;t even know where to start.</p>

<p>Now, let&rsquo;s try to solve much simpler problem:</p>

<p>Given an integer number in the range of <code>0</code> to <code>9</code>, write a program that will output that number in English words.</p>

<p>Can you solve that? I am pretty sure you can. And easily at that.</p>

<p>Let&rsquo;s write down some of our possible inputs and corresponding outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_number</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># zero</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_number</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># one</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_number</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>   <span class="c1"># seven</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_number</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>   <span class="c1"># nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we run that program, we will get an error, that <code>english_number</code> function is not defined yet. Let&rsquo;s define it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now if we run our program, we will get four empty lines on the screen as expected. Easiest implementation of <code>english_number</code> function would probably look like that:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;zero&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;one&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;two&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;three&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;four&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;five&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;six&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;seven&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;eight&quot;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">==</span> <span class="mi">9</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;nine&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we run our program, then we will get our expected output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">zero</span>
</span><span class='line'><span class="nx">one</span>
</span><span class='line'><span class="nx">seven</span>
</span><span class='line'><span class="nx">nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you already know arrays and access array by index, <code>english_number</code> can be simplified greatly:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">NUMBERS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;zero&quot;</span><span class="p">,</span> <span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;four&quot;</span><span class="p">,</span>
</span><span class='line'>           <span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="s2">&quot;six&quot;</span><span class="p">,</span> <span class="s2">&quot;seven&quot;</span><span class="p">,</span> <span class="s2">&quot;eight&quot;</span><span class="p">,</span> <span class="s2">&quot;nine&quot;</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">NUMBERS</span><span class="p">[</span><span class="nx">number</span><span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>After making this change, let&rsquo;s run the program, we should see the same output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">zero</span>
</span><span class='line'><span class="nx">one</span>
</span><span class='line'><span class="nx">seven</span>
</span><span class='line'><span class="nx">nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>OK. Seems like we have solved our current problem at hand. What about the initial problem? How do we get there?</p>

<h3>Increase size of the problem slightly</h3>

<p>Or as you would say in real-world programming: Add a new requirement.</p>

<p>Our initial problem has only two axes, where we can add requirements to our current solution to move it towards final solution:</p>

<ul>
<li>increase the supported range</li>
<li>allow negative integers</li>
</ul>


<p>Let&rsquo;s go with latter, it seems easier. First we write down our possible inputs and outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># zero</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>     <span class="c1"># four</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># minus three</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>     <span class="c1"># nine</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">)</span>    <span class="c1"># minus nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now, implement <code>english_integer</code> as a simple call to <code>english_number</code> (that will make half of our inputs produce correct output):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_integer</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Depending on what your programming language this can:</p>

<ul>
<li>output partly incorrect data (for negative values)</li>
<li>fail at run time</li>
<li>fail at compile time</li>
</ul>


<p>We can fix that by handling the case of negative numbers:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="s2">&quot;minus &quot;</span> <span class="o">+</span> <span class="nx">english_integer</span><span class="p">(</span><span class="o">-</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>That might be confusing at first. Especially, part, where we call <code>english_integer</code> from the body of the same function. Let&rsquo;s draw a diagram on how that function works:</p>

<p><img src="https://camo.githubusercontent.com/134fbbce495dc2d9bb3f137077cdde57dc28668e/687474703a2f2f672e67726176697a6f2e636f6d2f673f2530412532302532306469677261706825323047253230253742253041253230253230253230253230666f7263656c6162656c733d747275653b253041253230253230253230253230253232656e676c6973685f696e7465676572286e756d6265722925323225323025354273686170653d626f782535443b2530412532302532302532302532302532326966253230286e756d626572253230253343253230302925323225323025354273686170653d6469616d6f6e642535443b25304125323025323025323025323025323263616c6c253230656e676c6973685f696e7465676572282d6e756d626572292532323b25304125323025323025323025323025323263616c6c253230656e676c6973685f6e756d626572286e756d626572292532323b25304125323025323025323025323025323270726570656e64253230726573756c7425323077697468253230276d696e7573253230272532323b253041253230253230253230253230253232616e6425323072657475726e25323069742532323b2530412532302532302532302532302532327468656e25323072657475726e253230726573756c742532306f662532307468697325323063616c6c2532323b253041253230253230253230253230253232656e676c6973685f696e7465676572286e756d626572292532322532302d2533452532302532326966253230286e756d62657225323025334325323030292532323b2530412532302532302532302532302532326966253230286e756d62657225323025334325323030292532323a652532302d25334525323025323263616c6c253230656e676c6973685f696e7465676572282d6e756d626572292532322532302535426c6162656c3d2532325945532532322535443b2530412532302532302532302532302532326966253230286e756d62657225323025334325323030292532323a772532302d25334525323025323263616c6c253230656e676c6973685f6e756d626572286e756d626572292532322532302535426c6162656c3d2532324e4f2535436e696e76617269616e743a2535436e6e756d6265722532302533453d253230302532322535443b25304125323025323025323025323025323263616c6c253230656e676c6973685f696e7465676572282d6e756d626572292532323a6e652532302d253345253230253232656e676c6973685f696e7465676572286e756d626572292532323a6e652532302535426c6162656c3d253232696e76617269616e743a2535436e6e756d6265722532302533453d253230302532322535443b25304125323025323025323025323025323263616c6c253230656e676c6973685f696e7465676572282d6e756d626572292532322532302d25334525323025323270726570656e64253230726573756c7425323077697468253230276d696e7573253230272532322532302d253345253230253232616e6425323072657475726e25323069742532323b25304125323025323025323025323025323263616c6c253230656e676c6973685f6e756d626572286e756d626572292532322532302d2533452532302532327468656e25323072657475726e253230726573756c742532306f662532307468697325323063616c6c2532323b253041253230253230253744" alt="Diagram for english_integer after adding negative integers" /></p>

<p>If we were to unwind this diagram into possible paths, we would end up with two possible cases:</p>

<ol>
<li>When <code>number &lt; 0</code>:

<ul>
<li><code>english_integer(number)</code></li>
<li><code>if (number &lt; 0)</code> - YES</li>
<li><code>english_integer(-number)</code></li>
<li><code>if (number &lt; 0)</code> - NO</li>
<li><code>english_number(number)</code></li>
<li>prepend result of last call with <code>minus</code></li>
<li>and return it</li>
</ul>
</li>
<li>When <code>number &gt;= 0</code>:

<ul>
<li><code>english_integer(number)</code></li>
<li><code>if (number &lt; 0)</code> - NO</li>
<li><code>english_number(number)</code></li>
<li>return result of last call</li>
</ul>
</li>
</ol>


<p>Running this program results in expected output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">zero</span>
</span><span class='line'><span class="nx">four</span>
</span><span class='line'><span class="nx">minus</span> <span class="nx">three</span>
</span><span class='line'><span class="nx">nine</span>
</span><span class='line'><span class="nx">minus</span> <span class="nx">nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>Implementation of <code>english_integer(number)</code> function can be simplified by eliminating <code>else</code> clause and treating <code>number &lt; 0</code> as an edge case and using &ldquo;guard clause&rdquo; to handle it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_integer</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;minus &quot;</span> <span class="o">+</span> <span class="nx">english_integer</span><span class="p">(</span><span class="o">-</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we run our program, the output should be the same as before.</p>

<h3>Add more requirements!</h3>

<p>Now, that we are done with handling a negative case, we have only one requirement axis left: range of integers. Currently, we support integers from <code>-9</code> to <code>9</code>. Now let&rsquo;s extend support for integers from <code>10</code> to <code>19</code>. This problem should be as trivial as the problem for the range of <code>0...9</code>.</p>

<p>Our inputs with corresponding outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_teen_number</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># ten</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_teen_number</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>    <span class="c1"># eleven</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_teen_number</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>    <span class="c1"># thirteen</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_teen_number</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>    <span class="c1"># eighteen</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_teen_number</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>    <span class="c1"># nineteen</span>
</span></code></pre></td></tr></table></div></figure>


<p>And the implementation to make the output of the program correct (very similar to <code>english_number</code> function):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">TEEN_NUMBERS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ten&quot;</span><span class="p">,</span> <span class="s2">&quot;eleven&quot;</span><span class="p">,</span> <span class="s2">&quot;twelve&quot;</span><span class="p">,</span> <span class="s2">&quot;thirteen&quot;</span><span class="p">,</span> <span class="s2">&quot;fourteen&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;fifteen&quot;</span><span class="p">,</span> <span class="s2">&quot;sixteen&quot;</span><span class="p">,</span> <span class="s2">&quot;seventeen&quot;</span><span class="p">,</span> <span class="s2">&quot;eighteen&quot;</span><span class="p">,</span> <span class="s2">&quot;nineteen&quot;</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">english_teen_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// &quot;number - 10&quot; comes from the fact, that range 10..19</span>
</span><span class='line'>  <span class="c1">// maps to a range of 0..9 of our array, so we need to</span>
</span><span class='line'>  <span class="c1">// shift 10..19 by -10 to get 0..9</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">TEEN_NUMBERS</span><span class="p">[</span><span class="nx">number</span> <span class="o">-</span> <span class="mi">10</span><span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now we want to glue our current solution with <code>english_teen_number</code> to add support for range <code>10..19</code>. This sounds like another <code>if .. else</code> case handling:</p>

<ul>
<li>when <code>number &lt; 10</code>, use <code>english_number</code></li>
<li>when <code>number &gt;= 10</code>, use <code>english_teen_number</code></li>
</ul>


<p>Let&rsquo;s change our input/output pairs for <code>english_integer</code> function:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># zero</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>     <span class="c1"># four</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># minus three</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>     <span class="c1"># nine</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">)</span>    <span class="c1"># minus nine</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># ten</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>    <span class="c1"># fifteen</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>    <span class="c1"># nineteen</span>
</span></code></pre></td></tr></table></div></figure>


<p>That should fail in some way (compile error, runtime error or incorrect output). Now it is time to implement missing functionality for last 3 examples in our <code>english_integer</code> function. Replace the last call to <code>english_number</code> with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">english_teen_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we run the program, we should see correct output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">zero</span>
</span><span class='line'><span class="nx">four</span>
</span><span class='line'><span class="nx">minus</span> <span class="nx">three</span>
</span><span class='line'><span class="nx">nine</span>
</span><span class='line'><span class="nx">minus</span> <span class="nx">nine</span>
</span><span class='line'><span class="nx">ten</span>
</span><span class='line'><span class="nx">fifteen</span>
</span><span class='line'><span class="nx">nineteen</span>
</span></code></pre></td></tr></table></div></figure>


<p>What about negative numbers in the range of <code>-19...-10</code>? Let&rsquo;s add input/output examples and see what happens if we run the program:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">)</span>    <span class="c1"># minus twelve</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">)</span>    <span class="c1"># minus sixteen</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">)</span>    <span class="c1"># minus nineteen</span>
</span></code></pre></td></tr></table></div></figure>


<p>And the output if we run the program:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">minus</span> <span class="n">twelve</span>
</span><span class='line'><span class="n">minus</span> <span class="n">sixteen</span>
</span><span class='line'><span class="n">minus</span> <span class="n">nineteen</span>
</span></code></pre></td></tr></table></div></figure>


<p>Yes, it works already thanks to the guard statement that we have at the top of <code>english_integer</code> function. And the whole function body:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_integer</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;minus &quot;</span> <span class="o">+</span> <span class="nx">english_integer</span><span class="p">(</span><span class="o">-</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_teen_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Going further!</h3>

<p>Next smallest requirement seems to be an addition of the range <code>20...99</code>. Let&rsquo;s write down our example inputs and outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_integer_in_tens</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># twenty</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer_in_tens</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>    <span class="c1"># twenty-seven</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer_in_tens</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>    <span class="c1"># forty-two</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer_in_tens</span><span class="p">(</span><span class="mi">70</span><span class="p">)</span>    <span class="c1"># seventy</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer_in_tens</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span>    <span class="c1"># ninety-nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>So how do we solve this problem? Can we follow the same pattern as before, for ranges <code>0...9</code> and <code>10...19</code>?</p>

<p>We certainly do. We create a constant <code>INTEGERS_IN_TENS = [...]</code>, where <code>[...]</code> will contain 79 (mostly two-word) strings. It seems like an excess effort to me. So can we do better?</p>

<p>Yes! We can apply the same problem-solving technique here. What is the smallest problem, that we can solve here easily and independently from other problems?</p>

<p>What about solving the problem only for numbers <code>20</code>, <code>30</code>, <code>40</code>, &hellip;, <code>90</code>? Sounds simple enough! Let&rsquo;s write our example input/outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_ten</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># twenty</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_ten</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>    <span class="c1"># thirty</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_ten</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>    <span class="c1"># sixty</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_ten</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>    <span class="c1"># ninety</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is no longer different from ranges <code>0...9</code> and <code>10...19</code>. The only detail is that we need to find a way to convert range <code>20...90</code> to <code>0...7</code> to be able to access the array by that index. This can be done in 2 steps:</p>

<ol>
<li>obtain the first digit of the number: <code>number / 10</code>, which results in the range <code>2...9</code>,</li>
<li>and shift resulting digit by <code>-2</code>: <code>number / 10 - 2</code>, which results in the range <code>0...7</code>,</li>
</ol>


<p>exactly, what we expect. Now, we can implement <code>english_ten</code> similarly to <code>english_number</code> and <code>english_teen_number</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">TENS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;twenty&quot;</span><span class="p">,</span> <span class="s2">&quot;thirty&quot;</span><span class="p">,</span> <span class="s2">&quot;forty&quot;</span><span class="p">,</span> <span class="s2">&quot;fifty&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;sixty&quot;</span><span class="p">,</span> <span class="s2">&quot;seventy&quot;</span><span class="p">,</span> <span class="s2">&quot;eighty&quot;</span><span class="p">,</span> <span class="s2">&quot;ninety&quot;</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">english_ten</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">TENS</span><span class="p">[</span><span class="nx">number</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now it is time to return to the original requirement: support range <code>20...99</code>. Looking at our example input/outputs for a function <code>english_integer_in_tens</code>, we can conclude, that we have 2 different cases:</p>

<ul>
<li>When second digit is 0 (<code>number % 10 == 0</code>):

<ul>
<li>we output only <code>twenty</code>, <code>thirty</code>, &hellip;, <code>ninety</code>, depending on the first digit of the <code>number</code>;</li>
<li>by the way, this is exactly, what <code>english_ten</code> function is doing. Great!</li>
</ul>
</li>
<li>When the second digit is not 0:

<ul>
<li>we output <code>twenty</code>, <code>thirty</code>, &hellip;, <code>ninety</code>, depending on the first digit of the <code>number</code>;</li>
<li>and we output a hyphen character: <code>-</code>;</li>
<li>and we output <code>one</code>, <code>two</code>, &hellip;, <code>nine</code>, depending on the second digit;</li>
<li>by the way, latter is exactly, what <code>english_number</code> function is doing. Great!</li>
</ul>
</li>
</ul>


<p>So, let&rsquo;s implement that in <code>english_integer_in_tens</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_integer_in_tens</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">second_digit</span> <span class="o">=</span> <span class="nx">number</span> <span class="o">%</span> <span class="mi">10</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">second_digit</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_ten</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_ten</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">second_digit</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Running the program will produce the expected output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">twenty</span>
</span><span class='line'><span class="nx">twenty</span><span class="o">-</span><span class="nx">seven</span>
</span><span class='line'><span class="nx">forty</span><span class="o">-</span><span class="nx">two</span>
</span><span class='line'><span class="nx">seventy</span>
</span><span class='line'><span class="nx">ninety</span><span class="o">-</span><span class="nx">nine</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now we should glue the solution for range <code>20...99</code> with our main solution, that currently supports only <code>-19...19</code>. As always, start with example input/outputs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>   <span class="c1"># sixty</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="mi">43</span><span class="p">)</span>   <span class="c1"># forty-three</span>
</span><span class='line'><span class="nb">print</span> <span class="n">english_integer</span><span class="p">(</span><span class="o">-</span><span class="mi">97</span><span class="p">)</span>  <span class="c1"># minus ninety-seven</span>
</span></code></pre></td></tr></table></div></figure>


<p>This results in incorrect output or failure. How can we merge two solutions together now? Let&rsquo;s remember our current main solution&rsquo;s different cases:</p>

<ul>
<li>Guard <code>number &lt; 0</code>, that prepends &ldquo;minus &rdquo; and makes number non-negative.</li>
<li>When <code>number &lt; 10</code>, use <code>english_number</code>.</li>
<li>Otherwise, use <code>english_teen_number</code>.</li>
</ul>


<p>Seems, like first two cases should not be touched and we are interested in the last one. We should split it in two:</p>

<ul>
<li>Otherwise:

<ul>
<li>When <code>number &lt; 20</code>, use <code>english_teen_number</code>.</li>
<li>Otherwise, use <code>english_integer_in_tens</code>.</li>
</ul>
</li>
</ul>


<p>I believe, we are done and can implement merged version:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">english_integer</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;minus &quot;</span> <span class="o">+</span> <span class="nx">english_integer</span><span class="p">(</span><span class="o">-</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_teen_number</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">english_integer_in_tens</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Running the program confirms that our new solution now supports integers in the range <code>-99...99</code>.</p>

<h3>Final solution</h3>

<p>I&rsquo;m leaving the final solution as an exercise for you, my dear reader. There is nothing more to this technique. Careful application of this technique and careful choice of smallest baby-steps as new requirements to your current solution will get you there - to the final solution, that supports the range of <code>-999 999 999...999 999 999</code>.</p>

<p>If you have any troubles, don&rsquo;t hesitate to share your questions, ideas and code with me. I will try my best to help you, my dear reader. I am reachable via Twitter by handle <a href="https://twitter.com/waterlink000">@waterlink000</a>.</p>

<h2>Challenge</h2>

<p>Extend solution to support floating-point numbers to a precision level of 6 digits after the dot.</p>

<h2>Thank you for reading!</h2>

<p>Final note: did you notice, how tedious it is to check, that output of all these <code>print</code>-s is correct, each time you run the program? This can and should be automated! Stay tuned, I am going to publish an article on how to easily automate these checks really soon!</p>

<p>Next issue is out: <a href="/blog/2016/06/05/automating-manual-checks-or-how-to-save-time-and-get-rapid-feedback/">Automating Manual Checks or How to Save Time and Get Rapid Feedback</a>!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/13/tdd-number-4-path-finding/">TDD #4: Path Finding</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-13T09:56:15+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>9:56 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe width="560" height="315" src="https://www.youtube.com/embed/DTzhlNIjWRY" frameborder="0" allowfullscreen></iframe>


<p>Recommended to watch in a full-screen and on 720p or higher quality.</p>

<p>List of all TDD Screencasts can be <a href="/blog/categories/tdd-screencasts/">found here</a>.</p>

<h2>Script</h2>

<p>Hello. I am Oleksii Fedorov and I am wearing a hat of That TDD Fellow. That
means you are watching TDD Screencast episode #4.</p>

<p>As mentioned in the previous episode, today we are going to implement a path
finding algorithm.</p>

<p>Specifically, our first problem in a path finding theme will be the following:</p>

<ul>
<li>We are given a directional graph, that consists of nodes and edges between
them.</li>
<li>We are given two nodes: start and finish.</li>
<li>We need to answer such questions:

<ul>
<li>Is there a path from start to finish?</li>
<li>If there is, What this path is?</li>
</ul>
</li>
</ul>


<p>I need to make a remark, that we clearly dont have to return the shortest path,
just any path, that we can find. We will tackle shortest path problem in later
episodes.</p>

<p>Now, I think we can start.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./watch.sh
</span><span class='line'>vim         # coding session</span></code></pre></td></tr></table></div></figure>


<p>This was pretty easy to make a DFS algorithm to emerge on its own, by driving
it with the specification. Lets see if it is possible to do the same with
shortest path problem.. Next time, on the TDD Screencast. Have a nice day.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/05/why-are-you-slow/">Why Are You Slow?</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-05T17:09:47+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>5:09 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>We are slow because we have the worst codebase!</p></blockquote>

<h2>So why don&rsquo;t you clean it?</h2>

<blockquote><p>Because we have to go fast!</p></blockquote>

<p>I will let you figure out logical inconsistency there.</p>

<p>Ask yourself a question: how much times in your career you were slowed down by
a horrible, dirty, untested code? It doesn&rsquo;t matter who have written it,
usually, it is already there and already a fact you have to deal with.</p>

<p>If your answer was: &ldquo;Once.. or twice..&rdquo; (and your career is sufficiently long)
- you can freely stop reading this post and simply be a happy developer.</p>

<p>I was slowed down by bad code horrible amount of times. I come to be sick of
it. I don&rsquo;t want to be slow, because I am trying to go fast. I want my tool to
be clean, I want my creations to be manageable, and I don&rsquo;t want to fear the
code, I have created, or anyone else have created. And I want to go fast while
enjoying it!</p>

<p>Trust me, I met lots of developers during my career. Not as much as heroes of
our industry have met, but <strong>enough</strong> to be able to tell you, that <strong>every
single</strong> one of them, who has any reasonable length of the career, had same
problems.</p>

<p>And that is totally not normal. Do you understand, that from the outside world,
we, as an industry, are perceived as very non-professional, because of that?
Business even came to a conclusion, that they can&rsquo;t trust us to deliver working
software - and that is how QA role was born.</p>

<p>I will ask again.</p>

<h2>So why don&rsquo;t you clean it?</h2>

<blockquote><p>My company pays me for features, not for &lt;<em>insert your statement here</em>></p></blockquote>

<p>That is very common response. And, in essence, it is the truth.</p>

<p>OK, now, let&rsquo;s think. As time passes by, after certain threshold on every
codebase, that is not clean, adding next feature costs more time, even if the
features are of roughly the same size. After 1 year of such development,
features can literally become 2-4 times more expensive. Couple of years in, and
it, practically, becomes impossible to develop anything except &ldquo;Change the
color of this button&rdquo; (or provide your own example).</p>

<h2>What does that mean?</h2>

<p>One would say: &ldquo;Features become more expensive over time&rdquo;. Business usually
sees it as: &ldquo;Arrgh, our programmers slower and slower with each month&rdquo;. So from
the business perspective, after <strong>perceived</strong> effectiveness of developers drops
by 2-4 times, why would business be willing to pay these developers the same
salary? You should be afraid of this question.</p>

<h2>Now imagine land of unicorns!</h2>

<p>Now imagine, that you started a bit slower in the beginning (like 8% slower),
but you have kept your effectiveness over time either at roughly same level, or
even have increased it over time. How hard do you think it would be to ask for
a raise, after 2 years of loyal work?</p>

<p>Not hard at all. And probably business will be doing just great (if the
business idea itself was sustainable to begin with, of course), and will be
capable of satisfying the request.</p>

<h2>Why such a thing happens?</h2>

<p>Because at the moment we are not perceived as professionals, nor as experts of
our field. We are perceived as just some coding monkeys, who you always need to
ask: &ldquo;Can this be delivered on Friday&rdquo; with intimidating tone. And we gladly
reply through our teeth: &ldquo;I will try&rdquo;, meaning &ldquo;Just go already&rdquo;; ending up on
Friday evening with: &ldquo;I tried&rdquo; - &ldquo;You have tried not enough!&rdquo;.</p>

<h2>Clean your code already!</h2>

<p>Believe me, investing 15-45 minutes every single day into increasing test code
coverage and some little refactorings will not make you any slower (you
probably already very slow, so that it will not make any perceivable
difference). Rather, over time, you (and your fellow programmers) will start to
actually being bit-by-bit faster, as long as your application (or applications)
get cleaner and cleaner.</p>

<p>It goes without saying, that you should be using proper XP (pair-programming
and TDD) techniques, while writing any new piece of code (read: new class,
module, library, package, etc.). Because it will be extremely easy to unit-test
it with near-100% test coverage. Believe me, that is easy and fun.</p>

<p>Refactoring and covering old and messy parts of an application is not fun,
though. You have to face the truth. Consider it as a chore, like the one you do
to your apartment, when you clean it on a regular basis. And as we all know,
the more you wait to clean an apartment, the harder it would be to do it. And
the function is not linear..</p>

<p>If you have a really big legacy application, you are probably in doing that
sort of thing for 2-3 years, before you can proudly call this application clean
again.</p>

<p>There is one important trick though: prioritize cleaning of parts of
application, that change often. If some part changes once half a year, you
should probably clean it once half a year too.</p>

<h2>You are hired for your expertise!</h2>

<p>Believe me, you do have all the knowledge, required to make it.</p>

<p>The only thing that stops you is your inability to say &ldquo;No&rdquo;, when &ldquo;No&rdquo; is the
correct answer from your experience and expertise point of view.</p>

<h2>Parallel example</h2>

<p>Do you know that surgeon, before any surgery, washes his hands. You not just
know, it is your expectation! In some countries if he doesn&rsquo;t, he can easily
end up in jail.</p>

<h3>Do you know, how surgeon washes his hands?</h3>

<p>He rubs each finger from 4 different sides 10 times. That is stated in Doctors&#8217;
code of ethics. And they have to follow it, since it has power of law.</p>

<p>Why 10 times? Wouldn&rsquo;t 7 be enough, or maybe 14 should be a minimum? It doesn&rsquo;t
matter. It is a discipline, that is to be followed to the letter, and there are
no exceptions.</p>

<p>Well, he probably can rub 11 times, without getting in jail..</p>

<p>Nobody will ever ask surgeon, why he does it. Everyone expects him to do it.</p>

<h2>Back to our universe</h2>

<p>You are surgeons!</p>

<p>You are surgeons, that operate on a heart of the business.</p>

<p>With your wrong move, with your mistake, the whole business can go out of
business overnight.</p>

<p>With your wrong move, with your mistake, thousands of people can die (if you
are in certain domains).</p>

<p>So why increasing a chance of your own mistakes (and everybody else on a team)
by not cleaning the code?</p>

<p>Even if you are not in such critical domain, you are part of industry, and you
should be a great professional, just to be an example for others, who might end
up working in such crucial business domain in the future.</p>

<p>And I know, you can pull it off. And you do know it yourself.</p>

<p>So now go, and be professional, be professional for everyone around you.</p>

<h2>Thanks!</h2>

<p>This article might be a bit too rough - I believe that is the truth we face
now, as an industry. And let us be the ones fixing it!</p>

<p>I recommend reading this: <a href="http://acm.org/about/se-code">Software Engineering Code of Ethics</a>
by ACM organization (originally, created in 1999, why are we all still not
using it?!).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/04/tdd-number-3-kind-sort/">TDD #3: Kind Sort</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-04T01:16:18+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:16 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe width="560" height="315" src="https://www.youtube.com/embed/TR2hKaR4zg8" frameborder="0" allowfullscreen></iframe>


<p>Recommended to watch in a full-screen and on 720p or higher quality.</p>

<h2>Script</h2>

<p>Hello, hello! I am Oleksii Fedorov, and this is the third
episode of TDD Screencast.</p>

<p>In last episode we have implemented a sorting algorithm
using TDD, without thinking about algorithm beforehand. As a
result, bubble sort have emerged.</p>

<p>We have noticed, that there is a small weird thing about
this implementation: it has unspecified behavior - mutation
of the original array.</p>

<p>So we asked, which algorithm would emerge, if we were to ban
such side-effects from our algorithm. Let&rsquo;s find out!</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./watch.sh
</span><span class='line'>vim           # implement sorting algorithm</span></code></pre></td></tr></table></div></figure>


<p>I think we are done here. If you look closely, it is a
quicksort. It is not the most memory-efficient
implementation, but that is something that is simple to
optimize (instead of passing recursively arrays, pass
original array and indexes). That optimization will involve
actual mutation of the array in place, so if we want to stay
true to our specification /show test for no-side-effects/.
We will have to copy the array once, using some sort of
wrapper function.</p>

<p>Applying this optimization I leave as an exercise to you my
users.</p>

<p>In the next episode we will look into path-finding problem,
and we will see, how these techniques apply there. See you
next time! Have a nice day.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/4">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/07/31/parallel-change-refactoring/">Parallel Change Refactoring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/23/build-your-own-testing-framework-part-2/">Build Your Own Testing Framework. Part 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/15/build-your-own-testing-framework/">Build Your Own Testing Framework</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/06/28/tl-dr-on-sustainable-software-development-paper/">TL;DR on Sustainable Software Development Paper</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/06/21/why-i-dont-use-mocking-frameworks-anymore/">Why I Don&#8217;t Use Mocking Frameworks Anymore</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/06/19/tdd-number-5-english-numbers-kata/">TDD #5: English Numbers Kata</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/06/13/tdd-as-an-enabling-practice-or-how-to-be-faster-with-tdd/">TDD as an Enabling Practice or How to Be Faster With TDD</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/06/05/automating-manual-checks-or-how-to-save-time-and-get-rapid-feedback/">Automating Manual Checks or How to Save Time and Get Rapid Feedback</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/waterlink">@waterlink</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'waterlink',
            count: 7,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
  </a>
  <br />
  Except where otherwise noted, content on this site is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
  <br/>

  Except where otherwise noted, code examples on this site are licensed under a
  <a rel="license" href="https://github.com/waterlink/waterlink.github.io/tree/source/LICENSE">MIT License</a>.
  <br/>

  Copyright &copy; 2016 - Oleksii Fedorov (waterlink) -
  <br/>

  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
